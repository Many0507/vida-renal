let formData,confirm,slidePerView,autoplay;const swiper=document.getElementById("swiper"),noSwiper=document.querySelector(".swiper-no_slider"),nextBtn=document.querySelector(".swiper-button-next"),prevBtn=document.querySelector(".swiper-button-prev"),formContainer=document.getElementById("form-container"),formContainerUpdate=document.getElementById("form-container--update"),formUpdate=document.getElementById("form--update"),createBtn=document.getElementById("create"),updateBtn=document.querySelectorAll(".update-btn"),deleteBtn=document.querySelectorAll(".delete-btn"),closeBtn=document.getElementById("close"),closeUpdate=document.getElementById("close-update"),blogSaveContent=document.querySelector(".blog-content-save"),fileInput=document.querySelector("#fileJs input[type=file]"),fileInputUpdate=document.querySelector("#fileJsUpdate input[type=file]"),fileInputVideo=document.querySelector("#fileJsVideo input[type=file]"),message=document.getElementById("message"),navbar=document.getElementById("navbar"),navbarBtn=document.getElementById("navbar-btn"),navbarContent=document.getElementById("navbar-C"),tooltip=document.querySelectorAll(".tooltip"),editor=document.getElementById("editor"),x=window.matchMedia("(max-width: 768px)");if(tooltip.length>0&&tippy(".tooltip"),null!=editor){const editorInit=async()=>{try{const decoupledEditor=await DecoupledEditor.create(editor,{removePlugins:["ImageUpload"]}),toolbarContainer=document.getElementById("toolbar-container");toolbarContainer.appendChild(decoupledEditor.ui.view.toolbar.element)}catch(e){console.log(`error: ${e}`)}};editorInit();const editorP=editor.childNodes;editorP.forEach(p=>{p.childNodes[0]&&"P"===p.tagName&&"BR"===p.childNodes[0].tagName&&p.childNodes[0].parentNode.parentNode.removeChild(p.childNodes[0].parentNode)})}const mediaQuery=x=>{x.matches?(slidePerView=1,autoplay={delay:5e3},nextBtn&&prevBtn&&(nextBtn.style.display="none",prevBtn.style.display="none")):(autoplay=!1,slidePerView=3)};mediaQuery(x),x.addListener(mediaQuery),null!=swiper&&new Swiper("#swiper",{slidesPerView:slidePerView,spaceBetween:20,loop:!0,loopFillGroupWithBlank:!1,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),null!=noSwiper&&new Swiper(".swiper-no_slider",{slidesPerView:slidePerView,spaceBetween:20,loop:!0,autoplay:autoplay});const tallerImages=document.querySelectorAll(".taller_img");if(tallerImages.forEach(img=>{img.addEventListener("click",e=>{const id=e.target.id.split("-")[1];window.location.href=`/taller-ver/${id}`})}),null!=navbar){const pathName=window.location.pathname.split("/")[1];document.querySelectorAll(".navbar-item").forEach(nav=>{nav.id==pathName&&nav.classList.add("active")})}if(null!=navbarBtn&&navbarBtn.addEventListener("click",e=>{navbar.classList.toggle("navbar-menu--active")}),null!=navbarContent&&window.addEventListener("scroll",e=>{window.scrollY>0?navbarContent.style.boxShadow="1px 1px 3px #000":navbarContent.style.boxShadow="none"}),document.addEventListener("DOMContentLoaded",()=>{(document.querySelectorAll(".notification .delete")||[]).forEach($delete=>{$notification=$delete.parentNode,$delete.addEventListener("click",()=>{"blog-e"==$notification.parentNode.classList[0]?$notification.parentNode.parentNode.style.display="none":$notification.parentNode.removeChild($notification)})})}),null!=fileInput&&(fileInput.onchange=()=>{if(fileInput.files.length>0){const fileName=document.querySelector("#fileJs .file-name");fileName.textContent=fileInput.files[0].name}}),null!=fileInputUpdate&&(fileInputUpdate.onchange=()=>{if(fileInputUpdate.files.length>0){const fileNameUpdate=document.querySelector("#fileJsUpdate .file-name");fileNameUpdate.textContent=fileInputUpdate.files[0].name}}),null!=fileInputVideo&&(fileInputVideo.onchange=()=>{if(fileInputVideo.files.length>0){const fileNameVideo=document.querySelector("#fileJsVideo .file-name");fileNameVideo.textContent=fileInputVideo.files[0].name}}),null!=createBtn&&(createBtn.addEventListener("click",e=>{formContainer.style.top="0",document.querySelector(".textarea").value=""}),null!=closeBtn&&closeBtn.addEventListener("click",e=>{e.preventDefault(),formContainer.style.top="-200vh"}),formContainer.addEventListener("click",e=>{"form-container"==e.target.id&&(formContainer.style.top="-200vh")})),null!=deleteBtn&&deleteBtn.forEach(btn=>{btn.addEventListener("click",async e=>{if(confirm=window.confirm("¿Desea eliminar el elemento?"),confirm){const id=btn.id.split("-")[1];await axios.delete(`${window.location.protocol}//${window.location.host}${window.location.pathname}/${id}`),location.reload()}})}),null!=updateBtn&&updateBtn.forEach(btn=>{btn.addEventListener("click",async e=>{const id=btn.id.split("-")[1];console.log(window.location);const data=await axios.get(`${window.location.protocol}//${window.location.host}${window.location.pathname}/${id}`);data.data.success?(document.getElementById("titulo").value=data.data.data.titulo,document.getElementById("texto")&&(document.getElementById("texto").value=data.data.data.texto),document.getElementById("autor")&&(document.getElementById("autor").value=data.data.data.autor)):console.log("Error al traer los datos"),formContainerUpdate.style.top="0",formUpdate.action="",formUpdate.action=`${window.location.href}/${id}`}),closeUpdate.addEventListener("click",e=>{e.preventDefault(),formContainerUpdate.style.top="-200vh"}),formContainerUpdate.addEventListener("click",e=>{"form-container--update"==e.target.id&&(formContainerUpdate.style.top="-200vh")})}),null!=blogSaveContent&&blogSaveContent.addEventListener("click",async e=>{e.preventDefault();const id=blogSaveContent.id.split("-")[1],data=await axios.patch(`${window.location.protocol}//${window.location.host}${window.location.pathname}/${id}`,{texto:editor.innerHTML});if(notification.parentNode.style.display="block",data.data.success){const notification=document.getElementById("notification");notification.style.display="block"}else document.getElementById("notification-error").style.display="block"}),null!=document.querySelector("#comoPuedoAyudar")&&(document.querySelector("#comoPuedoAyudar").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#comoPuedoAyudarModal").classList.add("is-active")}),document.querySelector("#comoSerParte").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#comoSerParteModal").classList.add("is-active")}),document.querySelector("#fundacionAyuda").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#fundacionAyudaModal").classList.add("is-active")}),document.querySelector("#fundacionBrinda").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#fundacionBrindaModal").classList.add("is-active")}),document.querySelector("#tipoAtencion").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#tipoAtencionModal").classList.add("is-active")}),document.querySelector("#maneraAyudar").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#maneraAyudarModal").classList.add("is-active")}),document.querySelector("#atencionMedica").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#atencionMedicaModal").classList.add("is-active")}),document.querySelector("#ayudaNoBrindada").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#ayudaNoBrindadaModal").classList.add("is-active")}),document.querySelector("#asistirTaller").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#asistirTallerModal").classList.add("is-active")}),document.querySelector("#consultarRecursos").addEventListener("click",()=>{document.querySelector("html").classList.add("is-clipped"),document.querySelector("#consultarRecursosModal").classList.add("is-active")})),document.querySelectorAll(".modal-background").forEach(modal=>{modal.addEventListener("click",e=>{document.querySelector("html").classList.remove("is-clipped"),document.querySelectorAll(".modal").forEach(modalClose=>{modalClose.classList.remove("is-active")})})}),document.querySelectorAll(".modal-close").forEach(modal=>{modal.addEventListener("click",()=>{document.querySelector("html").classList.remove("is-clipped"),document.querySelectorAll(".modal").forEach(modalClose=>{modalClose.classList.remove("is-active")})})}),null!=document.getElementById("voluntariado_form")){const validateNombre=nombre=>!(""==nombre||null==nombre||nombre.length<=0||""==nombre.charAt(0))&&(!(nombre.length>60)&&!!/[a-zA-ZñÑáéíóúü ]/g.test(nombre)),validateEdad=edad=>!!/[0-9 ]/g.test(edad)&&(!(""==edad||null==edad||edad<=0)&&!(edad>100)),validateTelefono=telefono=>!!/[0-9 ]/g.test(telefono)&&(!(""==telefono||null==telefono||telefono<=0)&&!(telefono.length>10)),validateEmail=email=>!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/g.test(email)&&!(""==email||null==email||email.length<=0),validateMensaje=mensaje=>!(""==mensaje||null==mensaje||mensaje.length<=0)&&!(mensaje.length>160);document.getElementById("voluntariado_form").addEventListener("submit",async e=>{e.preventDefault();const nombre=document.getElementById("nombre").value.trim(),edad=document.getElementById("edad").value.trim(),telefono=document.getElementById("telefono").value.trim(),email=document.getElementById("email").value.trim(),mensaje=document.getElementById("mensaje").value.trim(),social=document.getElementById("social").value.trim(),checkHombre=document.getElementById("checkHombre"),checkMujer=document.getElementById("checkMujer");let isValidNombre=validateNombre(nombre),isValidEdad=validateEdad(edad),isValidTelefono=validateTelefono(telefono),isValidEmail=validateEmail(email),isValidMensaje=validateMensaje(mensaje),isValidSexo=!1;if((checkHombre.checked||checkMujer.checked)&&(isValidSexo=!0),!(isValidNombre&&isValidEdad&&isValidTelefono&&isValidEmail&&isValidMensaje&&isValidSexo))return document.getElementById("message_errorV").style.display="block",document.getElementById("message_doneV").style.display="none",void(document.getElementById("message_errorV_text").innerHTML="Ha ocurrido un error al enviar sus datos, verifique su informacion e inténtelo más tarde.");let sexo="";checkHombre.checked?sexo="Hombre":checkMujer.checked&&(sexo="Mujer");const data=await axios.post(`${window.location.protocol}//${window.location.host}/voluntariado/registro`,{nombre:nombre,edad:edad,telefono:telefono,email:email,mensaje:mensaje,social:social,sexo:sexo});if(0==data.data.success)return document.getElementById("message_errorV").style.display="block",document.getElementById("message_doneV").style.display="none",void(document.getElementById("message_errorV_text").innerHTML="Ha ocurrido un error al enviar sus datos, verifique su informacion e inténtelo más tarde.");document.getElementById("message_errorV").style.display="none",document.getElementById("message_doneV").style.display="block",document.getElementById("message_doneV_text").innerHTML="Mensaje enviado correctamente",document.getElementById("nombre").value="",document.getElementById("edad").value="",document.getElementById("telefono").value="",document.getElementById("email").value="",document.getElementById("social").value="",document.getElementById("mensaje").value="",document.getElementById("checkHombre").checked=!1,document.getElementById("checkMujer").checked=!1})}if(null!=document.getElementById("tipo_donador")){var tipo_donador_select=document.getElementById("tipo_donador");tipo_donador_select.addEventListener("change",(function(elem){4==elem.target.value?(document.getElementById("ingreso_especie").removeAttribute("disabled"),document.getElementById("ingreso_monto_especie").removeAttribute("disabled"),document.getElementById("ingreso_cantidad").disabled=!0):(document.getElementById("ingreso_cantidad").removeAttribute("disabled"),document.getElementById("ingreso_monto_especie").disabled=!0,document.getElementById("ingreso_especie").disabled=!0)}))}if(null!=document.getElementById("myChart"))var ctx=document.getElementById("myChart").getContext("2d"),myChart=new Chart(ctx,{type:"pie",data:{labels:["Donador Persona fisica","Donador empresas","Donador Anónimo","Donador en Especie"],datasets:[{label:"%",data:[12,19,3,5],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]},options:{plugins:{legend:{display:!0,position:"bottom"}},scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{display:!1,drawBorder:!1}},y:{grid:{display:!1,drawBorder:!1},ticks:{display:!1}}}}});