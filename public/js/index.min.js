let formData,confirm,slidePerView,autoplay;const swiper=document.getElementById("swiper"),noSwiper=document.querySelector(".swiper-no_slider"),nextBtn=document.querySelector(".swiper-button-next"),prevBtn=document.querySelector(".swiper-button-prev"),formContainer=document.getElementById("form-container"),formContainerUpdate=document.getElementById("form-container--update"),formUpdate=document.getElementById("form--update"),createBtn=document.getElementById("create"),updateBtn=document.querySelectorAll(".update-btn"),deleteBtn=document.querySelectorAll(".delete-btn"),closeBtn=document.getElementById("close"),closeUpdate=document.getElementById("close-update"),blogSaveContent=document.querySelector(".blog-content-save"),fileInput=document.querySelector("#fileJs input[type=file]"),fileInputUpdate=document.querySelector("#fileJsUpdate input[type=file]"),fileInputVideo=document.querySelector("#fileJsVideo input[type=file]"),message=document.getElementById("message"),navbar=document.getElementById("navbar"),navbarBtn=document.getElementById("navbar-btn"),navbarContent=document.getElementById("navbar-C"),tooltip=document.querySelectorAll(".tooltip"),editor=document.getElementById("editor"),x=window.matchMedia("(max-width: 768px)");if(tooltip.length>0&&tippy(".tooltip"),null!=editor){const editorInit=async()=>{try{const decoupledEditor=await DecoupledEditor.create(editor,{removePlugins:["ImageUpload"]}),toolbarContainer=document.getElementById("toolbar-container");toolbarContainer.appendChild(decoupledEditor.ui.view.toolbar.element)}catch(e){console.log(`error: ${e}`)}};editorInit();const editorP=editor.childNodes;editorP.forEach(p=>{p.childNodes[0]&&"P"===p.tagName&&"BR"===p.childNodes[0].tagName&&p.childNodes[0].parentNode.parentNode.removeChild(p.childNodes[0].parentNode)})}const mediaQuery=x=>{x.matches?(slidePerView=1,autoplay={delay:5e3},nextBtn&&prevBtn&&(nextBtn.style.display="none",prevBtn.style.display="none")):(autoplay=!1,slidePerView=3)};mediaQuery(x),x.addListener(mediaQuery),null!=swiper&&new Swiper("#swiper",{slidesPerView:slidePerView,spaceBetween:20,loop:!0,loopFillGroupWithBlank:!1,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),null!=noSwiper&&new Swiper(".swiper-no_slider",{slidesPerView:slidePerView,spaceBetween:20,loop:!0,autoplay:autoplay}),null!=navbarBtn&&navbarBtn.addEventListener("click",e=>{navbar.classList.toggle("navbar-menu--active")}),null!=navbarContent&&window.addEventListener("scroll",e=>{window.scrollY>0?navbarContent.style.boxShadow="1px 1px 5px #000":navbarContent.style.boxShadow="none"}),document.addEventListener("DOMContentLoaded",()=>{(document.querySelectorAll(".notification .delete")||[]).forEach($delete=>{$notification=$delete.parentNode,$delete.addEventListener("click",()=>{"blog-e"==$notification.parentNode.classList[0]?$notification.parentNode.parentNode.style.display="none":$notification.parentNode.removeChild($notification)})})}),null!=fileInput&&(fileInput.onchange=()=>{if(fileInput.files.length>0){const fileName=document.querySelector("#fileJs .file-name");fileName.textContent=fileInput.files[0].name}}),null!=fileInputUpdate&&(fileInputUpdate.onchange=()=>{if(fileInputUpdate.files.length>0){const fileNameUpdate=document.querySelector("#fileJsUpdate .file-name");fileNameUpdate.textContent=fileInputUpdate.files[0].name}}),null!=fileInputVideo&&(fileInputVideo.onchange=()=>{if(fileInputVideo.files.length>0){const fileNameVideo=document.querySelector("#fileJsVideo .file-name");fileNameVideo.textContent=fileInputVideo.files[0].name}}),null!=createBtn&&(createBtn.addEventListener("click",e=>{formContainer.style.top="0",document.querySelector(".textarea").value=""}),null!=closeBtn&&closeBtn.addEventListener("click",e=>{e.preventDefault(),formContainer.style.top="-200vh"}),formContainer.addEventListener("click",e=>{"form-container"==e.target.id&&(formContainer.style.top="-200vh")})),null!=deleteBtn&&deleteBtn.forEach(btn=>{btn.addEventListener("click",async e=>{if(confirm=window.confirm("Â¿Desea eliminar el elemento?")){const id=btn.id.split("-")[1];await axios.delete(`${window.location.protocol}//${window.location.host}${window.location.pathname}/${id}`),location.reload()}})}),null!=updateBtn&&updateBtn.forEach(btn=>{btn.addEventListener("click",async e=>{const id=btn.id.split("-")[1];console.log(window.location);const data=await axios.get(`${window.location.protocol}//${window.location.host}${window.location.pathname}/${id}`);console.log(),data.data.success?(document.getElementById("titulo").value=data.data.data.titulo,document.getElementById("texto")&&(document.getElementById("texto").value=data.data.data.texto)):console.log("Error al traer los datos"),formContainerUpdate.style.top="0",formUpdate.action="",formUpdate.action=`${window.location.href}/${id}`}),closeUpdate.addEventListener("click",e=>{e.preventDefault(),formContainerUpdate.style.top="-200vh"}),formContainerUpdate.addEventListener("click",e=>{"form-container--update"==e.target.id&&(formContainerUpdate.style.top="-200vh")})}),null!=blogSaveContent&&blogSaveContent.addEventListener("click",async e=>{e.preventDefault();const id=blogSaveContent.id.split("-")[1],data=await axios.patch(`http://localhost:8000/admin/blog-content/${id}`,{texto:editor.innerHTML});if(notification.parentNode.style.display="block",data.data.success){const notification=document.getElementById("notification");notification.style.display="block"}else document.getElementById("notification-error").style.display="block"});